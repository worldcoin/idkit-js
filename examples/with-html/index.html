<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>IDKit Playground</title>

		<style>
			#root {
				display: grid;
				justify-content: center;
				justify-items: center;
				align-content: center;
				min-height: 100vh;
				gap: 24px;
			}

			#heading {
				font-size: 56px;
				text-transform: uppercase;
			}

			#open-idkit {
				background-color: #4f46e5;
				color: #fff;
				padding: 8px 16px;
				border-radius: 4px;
				cursor: pointer;
			}
		</style>
	</head>
	<body>
		<div id="root">
			<h1 id="heading">idkit-js</h1>
			<button id="open-idkit">Open</button>
			<div
				id="idkit-container"
				style="
					width: 300px;
					height: 350px;
					display: flex;
					justify-content: center;
					align-items: center;
					border: 1px solid #000;
				"
			></div>
		</div>

		<script type="module">
			import '@worldcoin/idkit-standalone'
			IDKit.init({
				signal: 'test_signal',
				app_id: 'app_ce4cb73cb75fc3b73b71ffb4de178410',
				action: 'test-action',
				action_description: 'Test action description',
				show_modal: true,
				container_id: 'idkit-container',
				partner: true,
				verification_level: 'orb',
				handleVerify: response => {
					// verify the IDKIt proof, throw an error to show the error screen
				},
				onSuccess: response => {
					console.log(response)
				},
			})

			document.getElementById('open-idkit').addEventListener('click', async () => {
				console.log(IDKit.isInitialized)
				await IDKit.open()
			})
		</script>
	</body>
</html>
